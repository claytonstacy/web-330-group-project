<!DOCTYPE HTML>
<html lang = "en">
<head>
  <title>Javascript Trivia</title>
  <link href="css/style.css" rel = "stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Spartan:700&display=swap" rel="stylesheet">
  <script src="javascript.js"></script>
  <script type='text/javascript' src='./scripts/knockout-3.5.1.js'></script>
  <meta charset = "UTF-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />

</head>
<body>
  <div id= "title">
    <h1>Javascript <br>Trivia</h1>
  </div>
<div class="scene">
  <!--Full front and back card element that will be flipped -->
  <div class="card" id="cardID">
    <!--Front of the card -->
    <div class=" card-face card-front slide-container">
      <div class= "slide flex">
        <!--Question, ID, and answers bound to activeQustion object-->
            <div class="question-number"><h3><strong>Question&nbsp;</strong><strong data-bind="text: activeQuestion().id"></strong></h3></div>
            <div class="question">
              <p data-bind="text: activeQuestion().question"></p>
            </div>
              <hr style="border:2px solid #E52A6F; width:75%;">
            <div id = "form">
              <!--DO NOT REMOVE The following two comments are for Knockout containerless interation of button element.  DO NOT REMOVE-->
            <!-- ko foreach: activeQuestion().answers -->
            <button onclick="flipper()" class="button" >
              <span data-bind="text: $data"></span>
            </button>
              <!-- /ko -->
            </div>
      </div>
            <!-- Next and previous buttons -->
            <div id="arrow">
              <a class="prev" data-bind="click: decrementQuestion">&#10094;</a>
              <a class="next"  data-bind="click: incrementQuestion">&#10095;</a>
            </div>
    </div>
    <!--Back of the card -->
    <div class="card-face card-back slide-container">
      <div class= "slide flex">
        <!--to do: add Correct/incorrect message and style buttons to show correct/incorrect selections-->
        <div class="question-number"><h3>This is feedback</h3></div>
        <div class="question">
          <p data-bind="text: activeQuestion().question"></p>
        </div>
          <hr style="border:2px solid #E52A6F; width:75%;">
        <div id = "form">
            <!-- ko foreach: activeQuestion().answers -->
            <button onclick="flipper()" class="button" >
              <span data-bind="text: $data"></span>
            </button>
              <!-- /ko -->
        </div>
  </div>
                  <!-- Next and previous buttons -->
                  <div id="arrow">
                    <a class="prev" onclick="flipper()" data-bind="click: decrementQuestion">&#10094;</a>
                    <a class="next" onclick="flipper()" data-bind="click: incrementQuestion">&#10095;</a>
                  </div>
    </div>
  </div>
</div>

<script>
  function vm() {
    //Set active Question to zero on page load/reload
    this.activeQuestionNumber = ko.observable(0);
    //Object with questions and answers
    this.questions = ko.observableArray([
      {id: 1,
        question: 'Which statement is used to execute actions based on a trigger or condition?',
        rightAnswer: 'Conditional Statement',
        answers: ['Conditional Statement','Boolean Variable','RegExp or Regular Expression','All of the above']
      },
      { id: 2,
        question: 'Where do you put the JavaScript inside an HTML document?',
        rightAnswer: 'Both <meta> and <body> sections',
        answers: ['The <meta> section','The <body> section', 'The <head> section','Both <meta> and <body> sections']
      },
      {id: 3,
        question: 'What is the name of the statement that is used to exit or end a loop?',
        rightAnswer: 'Break statement',
        answers: ['Break statement','Conditional statement','Close statement','Both A & B']
      }, 
      {id: 4,
        question: 'What is the syntax for using an alert?',
        rightAnswer: 'alert(“Hello World”);',
        answers: ['alertbox(“Hello World”);','output(“Hello World”);','alert(“Hello World”);','Both A & C']
      }, 
      {id: 5,
        question: 'What element stores multiple values in a single variable in JavaScript?',
        rightAnswer: 'Arrays',
        answers: ['Arrays','Maps','Variables','All of the above']
      },
      {id: 6,
        question: 'Which element represents either "true" or "false" values?',
        rightAnswer: 'Boolean',
        answers: ['Condition','Loops','Boolean','Both A & C']
      },
      {id: 7,
        question: 'What is the syntax to refer to an external JavaScript file?',
        rightAnswer: '<script src=”web330.js”>',
        answers: ['<script src=”web330.js”>','<script href=”web330.js”>','<script ref=”web330.js”>','Both B & C']
      },
      {id: 8,
        question: 'What can be used to display an information box when a button is clicked on a web page?',
        rightAnswer: 'Events',
        answers: ['Constructor','Events','Conditions','All of the above']
      },
      {id: 9,
        question: 'What is a block of code called that is used to perform a specific task?',
        rightAnswer: 'Function',
        answers: ['Method','Loop','Function','All of the above']
      },
      {id: 10,
        question: 'What is the HTML tag used to include JavaScript code?',
        rightAnswer: '<script>',
        answers: ['<javascript>','<JS>','<script>','Both A & C']
      }
    ]);
    //function to advance to next question
      this.incrementQuestion = function() {
        var previousCount = this.activeQuestionNumber();
        if (previousCount < this.questions().length - 1) {
        this.activeQuestionNumber(previousCount + 1);
        console.log('In the increment', JSON.stringify(activeQuestion().answers));
        }
      };
    //function to go back to last question
      this.decrementQuestion = function() {
        var previousCount = this.activeQuestionNumber();
        if (previousCount > 0) {
        this.activeQuestionNumber(previousCount - 1);
        }
      };
    //Computed value to reactively bind the active question object using the activeQuestionNumber variable
      this.activeQuestion = ko.computed(function() {
    return this.questions()[this.activeQuestionNumber()];
  }, this);
  }
  ko.applyBindings(vm);
</script>
</body>
</html>
